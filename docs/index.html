<!DOCTYPE html>

<html lang="en">
<head>
	<!-- Metadata -->
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta name="description" content="" />

	<!-- Title -->
	<title>WebComponent Studio</title>

	<!-- Thumbnails -->
	<link rel="shortcut icon" href="images/favicon.png" />
	<link rel="apple-touch-icon" href="images/apple-touch-icon.icns" />

	<!-- Libraries -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/modern-normalize/0.5.0/modern-normalize.min.css" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/4.0.0/github-markdown.min.css" />

	<!-- Stylesheets -->
	<link rel="stylesheet" href="css/grid.css" />
	<link rel="stylesheet" href="css/style.css" />

	<!-- Inline Stylesheet -->
	<style>
		/* Syntax Highlighting */

		.token.cdata,
		.token.comment,
		.token.doctype,
		.token.prolog {
			color: #708090
		}
		.token.punctuation {
			color: #999
		}
		.token.namespace {
			opacity: .7
		}
		.token.boolean,
		.token.constant,
		.token.deleted,
		.token.number,
		.token.property,
		.token.symbol,
		.token.tag {
			color: #905
		}
		.token.attr-name,
		.token.builtin,
		.token.char,
		.token.inserted,
		.token.selector,
		.token.string {
			color: #690
		}
		.language-css .token.string,
		.style .token.string,
		.token.entity,
		.token.operator,
		.token.url {
			color: #9a6e3a;
			background: hsla(0, 0%, 100%, .5)
		}
		.token.atrule,
		.token.attr-value,
		.token.keyword {
			color: #07a
		}
		.token.class-name,
		.token.function {
			color: #dd4a68
		}
		.token.important,
		.token.regex,
		.token.variable {
			color: #e90
		}
		.token.bold,
		.token.important {
			font-weight: 700
		}
		.token.italic {
			font-style: italic
		}

		/* Body */

		body {
			margin-left: 2rem;
			padding: 2rem;
		}

		/* */

		.fieldset {
			border: 1px solid #eaecef;
			padding: 1rem;
			position: relative;
		}

		.fieldset h1 {
			background-color: #ffffff;
			border: none;
			font-size: 1rem;
			line-height: 1;
			margin: -0.5rem 0 0; /* half of font-size */
			padding: 0 0.25rem;
			position: absolute;
			top: 0;
		}

	</style>

</head>
<body class="markdown-body">

	<div class="row">
		<nav id="nav" class="2u fieldset" style="height: 100%; position: sticky; top: 2rem;"></nav>
		<div class="10u">
			<div id="elements" class="row"></div>
		</div>
	</div>

	<!-- Libraries -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.22.0/prism.min.js"></script>
	<script src="js/webcomponent-studio.js" type="module"></script>

	<!-- Scripts -->
	<!-- <script src="js/main.js" type="module"></script> -->

	<!-- Inline Script -->
	<script type="module">

		function getTerminalNodes(element) {
			const terminalNodes = [];

			(function recurse(element) {
				if (element.children.length !== 0) {
					for (const child of element.children) {
						recurse(child);
					}
				} else {
					if (element.type !== undefined && element.type !== "") {
						terminalNodes.push(element.tagName.toLowerCase() + "[type=" + element.type.toLowerCase() + "]");
					} else {
						terminalNodes.push(element.tagName.toLowerCase());
					}
				}
			})(element);

			return terminalNodes;
		}

		// Typography

		const typography = section(".section.fieldset")

		for (const element of [
			h1("#typography.h1", "Typography"),
			h2(".h2", "This is a second-level header."),
			h3(".h3", "This is a third-level header."),
			h4(".h4", "This is a fourth-level header."),
			h5(".h5", "This is a fifth-level header."),
			h6(".h6", "This is a sixth-level header."),
			hr(".hr"),
			p(".p", a(".a", "This is a link.", "#")),
			p(".p", b(".b", "This is some bold text.")),
			blockquote(".blockquote", "This is a blockquote."),
			p(".p", code(".code", "This is some inline code.")),
			p(".p", del(".del", "This is some deleted text.")),
			p(".p", em(".em", "This is some emphasized text.")),
			p(".p", i(".i", "This is some italicized text.")),
			p(".p", ins(".ins", "This is some inserted text.")),
			p(".p", mark(".mark", "This is some marked text.")),
			p(".p", "This is a paragraph."),
			p(".p", pre(".pre", "This is some preformatted text.")),
			p(".p", q(".q", "This is a quote.")),
			p(".p", s(".s", "This is some struckthrough text.")),
			p(".p", small(".small", "This is some small text.")),
			p(".p", span(".span", [kbd(".kbd", "Ctrl"), kbd(".kbd", "Alt"), kbd(".kbd", "Delete")].join(" + "))),
			p(".p", strong(".strong", "This is some strong text.")),
			p(".p", sub(".sub", "This is some subscripted text.")),
			p(".p", sup(".sup", "This is some superscripted text.")),
			p(".p", u(".u", "This is some underlined text."))
		]) {
			typography.push(element);
		}

		document.getElementById("elements").innerHTML +=  div(".4u", typography);

		// Form-associated

		const formAssociated = section(".fieldset")
			.push(h1("#formAssociated.h1", "Form-associated"));

		for (const elements of [
			[label(".label", "", "Buttons"), div(".div", [button(".button", "Button"), " ", reset(".reset", "Reset"), " ", submit(".submit", "Submit")])],
			// [label(".label", "Checkbox", [checkbox(".checkbox", "checkbox", "checkbox", true), "Checkbox"])],
			[label(".label", "Color", "Color"), color(".color", "color", "#000000", true)],
			[label(".label", "Date", "Date"), date(".date", "date", "1969-04-20", true)],
			[label(".label", "Datetime", "Datetime"), datetime(".datetime", "datetime", "1969-04-20T16:20", true)],
			[label(".label", "Email", "Email"), email(".email", "email", "foo@bar.com", true)],
			[fieldset(".fieldset", "Fieldset")],
			[label(".label", "File", "File"), file(".file", "file", "image/*", true)],
			[label(".label", "Meter", "Meter"), meter(".meter")],
			[label(".label", "Month", "Month"), month(".month", "month", "1969-04")],
			[label(".label", "Number", "Number"), number(".number", "number", 420, true)],
			[label(".label", "Password", "Password"), password(".password", "password", "********", true)],
			[label(".label", "Progress", "Progress"), progress(".progress")],
			// [label(".label", "Radio", "Radio"), radio(".radio", "radio", "radio", true)],
			[label(".label", "Range", "Range"), range(".range", "range", 69, true)],
			[label(".label", "Search", "Search"), search(".search", "This is a search query.")],
			[label(".label", "Select", "Select"), select(".select", "select", [{ "key": "Item 1", "value": [{ "key": "Item 1.1" }] }, { "key": "--", "disabled": true }, { "key": "Item 2" }], true)],
			[label(".label", "Telephone", "Telephone"), tel(".tel", "tel", "+1 (800) 867-5309", true)],
			[label(".label", "Text", "Text"), text(".text", "text", "The Secret lies with Charlotte.", true)],
			[label(".label", "textarea", "Textarea"), textarea(".textarea")],
			[label(".label", "Time", "Time"), time(".time", "time", "16:20")],
			[label(".label", "URL", "URL"), url(".url", "url", window.location.href, true)],
			[label(".label", "Week", "Week"), week(".week", "week", "2020-W04", true)]
		]) {
			formAssociated.push(form(".form", elements));
		}

		document.getElementById("elements").innerHTML += div(".4u", formAssociated);

		// Embedded

		const embedded = section(".fieldset")
			.push(h1("#embedded.h1", "Embedded"))

		for (const element of [
			audio(),
			iframe(),
			img(),
			picture(),
			video(),
			table(".table", "This is a table.")
		]) {
			embedded.push(element);
		}

		document.getElementById("elements").innerHTML += div(".4u", embedded);

		// Navigation

		document.getElementById("nav").innerHTML += h1("Navigation");

		const sections = ol(".ol");

		for (const element of document.getElementById("elements").querySelectorAll("[id]")) {
			const section = ul(".ul");

			for (const terminalNode of getTerminalNodes(element.parentElement)) {
				section.push(li(".li", a(".a", code(".code", terminalNode), "#")));
			}

			sections.push(li(".li", details(".details", element.textContent, section)));
		}

		document.getElementById("nav").innerHTML += sections;

	</script>

</body>
</html>
